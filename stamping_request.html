<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Request Stamping — Jackson Scales</title>
  <meta name="description" content="Request stamping from Jackson Scales - fill details and send via WhatsApp or email."/>
  <style>
    :root {
      --accent:#0f62fe;
      --muted:#666;
      --bg:#f6f8fb;
      --card:#fff;
      --maxw:800px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Arial;background:var(--bg);color:#111}
    .wrap{max-width:var(--maxw);margin:28px auto;padding:18px}
    h1{margin:0 0 12px}
    form{background:var(--card);padding:20px;border-radius:12px;box-shadow:0 6px 18px rgba(10,20,40,0.06)}
    label{display:block;margin-top:12px;font-weight:600}
    input[type="text"], input[type="tel"], textarea{
      width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;margin-top:6px
    }
    textarea{min-height:90px;resize:vertical}
    .actions{display:flex;gap:10px;margin-top:16px;flex-wrap:wrap}
    .btn{padding:10px 14px;border-radius:8px;border:none;cursor:pointer;font-weight:700}
    .btn-primary{background:var(--accent);color:white}
    .btn-ghost{background:#eee;color:#222}
    .note{font-size:13px;color:var(--muted);margin-top:10px}
    .link-back{display:inline-block;margin-bottom:14px;color:var(--accent);text-decoration:none}
  </style>
</head>
<body>
  <div class="wrap">
    <a class="link-back" href="index.html">&larr; Back to Dashboard</a>
    <h1>Request Stamping</h1>
    <p>Please fill your details below and send your request. You can choose to send via WhatsApp or Email.</p>

    <form id="stampingForm">
      <label for="name">Full name *</label>
      <input id="name" name="name" type="text" required placeholder="Your full name">

      <label for="shop">Shop / Business name *</label>
      <input id="shop" name="shop" type="text" required placeholder="Shop or business name">

      <label for="phone">Phone (WhatsApp enabled) *</label>
      <input id="phone" name="phone" type="tel" required placeholder="+91..." >

      <label for="address">Address *</label>
      <textarea id="address" name="address" required placeholder="Shop address, city, pincode"></textarea>

      <!-- File uploads (commented for now)
      <label for="oldCert">Current / previous machine certificate</label>
      <input id="oldCert" name="oldCert" type="file" accept="image/*,.pdf">

      <label for="plateImg">Stamping plate image</label>
      <input id="plateImg" name="plateImg" type="file" accept="image/*">
      -->

      <label for="notes">Additional details (optional)</label>
      <textarea id="notes" name="notes" placeholder="Any extra instructions or description"></textarea>

      <div class="actions">
        <button type="button" id="sendWhatsApp" class="btn btn-primary">Send via WhatsApp</button>
        <button type="button" id="sendEmail" class="btn btn-ghost">Send via Email</button>
      </div>

      <p class="note">⚠️ For now, please attach stamping certificate and plate images manually when you send via WhatsApp or Email.</p>
    </form>
  </div>

  <script>
    // Replace with your details
    const businessWhatsAppNumber = "919443729638"; // no + sign
    const businessEmail = "jacksonscalesservice@gmail.com";

    function collectFormData() {
      return {
        name: document.getElementById('name').value.trim(),
        shop: document.getElementById('shop').value.trim(),
        phone: document.getElementById('phone').value.trim(),
        address: document.getElementById('address').value.trim(),
        notes: document.getElementById('notes').value.trim()
      };
    }

    function validateRequired(d) {
      if (!d.name || !d.shop || !d.phone || !d.address) {
        alert('Please fill your Name, Shop name, Phone and Address before sending.');
        return false;
      }
      return true;
    }

    // WhatsApp button
    document.getElementById('sendWhatsApp').addEventListener('click', function () {
      const d = collectFormData();
      if (!validateRequired(d)) return;

      let msg = `Request Stamping - Jackson Scales%0A%0A`;
      msg += `Name: ${encodeURIComponent(d.name)}%0A`;
      msg += `Shop: ${encodeURIComponent(d.shop)}%0A`;
      msg += `Phone: ${encodeURIComponent(d.phone)}%0A`;
      msg += `Address: ${encodeURIComponent(d.address)}%0A%0A`;
      if (d.notes) msg += `Notes: ${encodeURIComponent(d.notes)}%0A%0A`;
      msg += `Please contact me to confirm scheduling.`;

      const waUrl = `https://wa.me/${businessWhatsAppNumber}?text=${msg}`;
      window.open(waUrl, '_blank');
    });

    // Email button
    document.getElementById('sendEmail').addEventListener('click', function () {
      const d = collectFormData();
      if (!validateRequired(d)) return;

      const subject = encodeURIComponent(`Stamping Request — ${d.shop} — ${d.name}`);
      let body = `Request Stamping - Jackson Scales\n\n`;
      body += `Name: ${d.name}\n`;
      body += `Shop: ${d.shop}\n`;
      body += `Phone: ${d.phone}\n`;
      body += `Address: ${d.address}\n\n`;
      if (d.notes) body += `Notes: ${d.notes}\n\n`;
      body += `Please contact me to confirm scheduling.`;

      const mailto = `mailto:${encodeURIComponent(businessEmail)}?subject=${subject}&body=${encodeURIComponent(body)}`;
      window.location.href = mailto;
    });
  </script>
</body>
</html>
